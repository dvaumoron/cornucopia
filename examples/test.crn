
load("hello.crn", "Hello")

Hello()

load("dvaumoron/main.crn", "StructType", "MakeFunc")
load("dvaumoron/sql.crn", "ExecerContext", "RowQueryerContext", "CRUD")

f = NewFile("model")
f.HeaderComment("Generated from ../test.crn - do not edit.")

f.Const().Id("timeout").Op("=").Qual("time", "Duration").Call(5).Op("*").Qual("time", "Second")

# interfaces allowing *sql.DB or *sql.Tx

ExecerContext(f, "ExecerContext")

f.Line()

RowQueryerContext(f, "RowQueryerContext")

f.Line()

userFields = {
    "Name": String(),
    "Email": String(),
}

CRUD(
    f, "User",
    fields=userFields, primaryKey="Name",
    timeOutDuration = Id("timeout"),
    execerContext=Id("ExecerContext"), rowQueryerContext=Id("RowQueryerContext")
)

f.Save("model/model.go")